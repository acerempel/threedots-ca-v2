<script>
  document.addEventListener('DOMContentLoaded', function() {
    const navControl = document.querySelector('.dropdown-nav-control');
    navControl.addEventListener('click', (event) => {
      let dropdown = event.target.closest('.dropdown-nav');
      dropdown.classList.toggle("open");
    });
    navControl.addEventListener('keydown', (event) => {
      if (event.key === "Enter") event.target.closest('.dropdown-nav').classList.toggle('open');
    });
  })
</script>
  <section itemscope itemtype="https://schema.org/Blog" id="all-posts">
        <header>
          <h1 class="font-size-5 regular">{{ title }}</h1>
        </header>
        <section class="mt-1/2 prose">{{ content }}</section>
        {{ taxonomy:year sort="title:desc" collection="posts" }}
        <section id="y{{ title }}" class="mt-3/4">
          <h2 class="font-size-4 medium sans-serif swing">{{ title }}</h2>
          <div class="space-y-1 p-space-1/4">
            {{ entries sort="date:desc" status:is="published" }}
            {{ partial:post-summary }}
            {{ /entries }}
          </div>
        </section>
        {{ /taxonomy:year }}
       </section>

{{ section:footer }}
<table-of-contents for="all-posts"><h2 slot="title">Jump to year â€¦</h2></table-of-contents>
{{ /section:footer }}
